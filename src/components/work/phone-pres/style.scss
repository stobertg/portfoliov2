
@import "../../../global-css/variables/variables";

// For the styling of the phone presentations within the app
// These are areas to display protypes such as CardiAct and MetroUC

.stage__phone{
	@extend %display-flex;
	@extend %flex-center-all;
	position: relative;
	width: 100%;
	padding: 50px 0;

	// For the container of the phone and the blob in the background

	&--phone{
		@extend %display-flex;
		@extend %flex-center-all;
		position: relative;
	}

	// For the master container of the content to the right of the phone

	.stage__right{
		@extend %display-flex;
		@extend %flex-center-vertical;
		position: relative;
		max-width: 500px;
		min-height: 500px;
		margin-left: 75px;
	}

	// For the text to the right of the phone
	// This text is meant to explain what is happening in each screen displayed on the phone

	.stage__text{
		position: relative;
		min-height: 392px;
		padding-bottom: 139px;

		&--mode{
			@extend %animate__in;
			animation-delay: 800ms;
			overflow: hidden;
			position: relative;
			height: 30px;
			font-size: $eighteen;
			color: $white;
			padding: 3px 0 7px 0;
			opacity: 0;

			strong{
				@extend %speed-6ms;
				display: block;

				&:last-child{
					position: absolute;
					top: 0;
					left: 0;
					transform: translateY(110%);
					opacity: 0;
				}
			}

			&-switch{

				strong{
					animation: none;

					&:first-child{
						@extend %speed-3ms;
						transform: translateY(-110%);
						opacity: 0;
					}

					&:last-child{
						transform: translateY(0px);
						opacity: 1;
					}
				}
			}
		}

		p{
			font-size: $eighteen;
			color: $white;
			line-height: 1.75;
		}

		// For the title of the text

		&--title{
			margin-bottom: 10px;

			> div{

				&:last-child{
					font-size: $fifty;
					color: $white;
					line-height: 1.5;
					// letter-spacing: -0.02em;
				}
			}
		}
	}

	// For the controls on the top right of the container

	&--logo{
		position: absolute;
		bottom: 120px;
		right: 0;

		figure{
			@extend %display-flex;
			@extend %flex-center-all;
			width: 110px;

			.icon__victim{
				top: auto;
				left: auto;
				margin-top: 5px;
				z-index: 10;
			}

			img{
				opacity: 0.2;
			}
		}
	}

	// For the buttons on the bottom of the phone

	&--controls{
		position: absolute;
		bottom: 0;
		left: 0;
		z-index: 10;
	}

	// For the toggle button on the bottom of the text container
	// This is the button that swtiches the prototype between Emergency and Static mode
	// When a Mode is clicked, the button animates to the icon representing each mode

	.btn__toggle{
		@extend %display-flex;
		@extend %flex-center-vertical;
		position: relative;
		border-radius: 44px;
		padding: 6px;
		background: #750c0d;
		font-size: $fourteen;

		// For the circle that animates under the icons to show which on e is selected

		&:before{
			@extend %speed-3ms;
			content: ' ';
			position: absolute;
			width: 44px;
			height: 44px;
			left: 6px;
			border-radius: 50%;
			background: $red;
			box-shadow: 0px 2px 10px rgba(0,0,0,0.1);
		}

		// For the container of the individual buttons
		// With the heart on the left and the avatar on the right

		> div{
			@extend %display-flex;
			@extend %flex-center-all;
			position: relative;
			width: 44px;
			height: 44px;
			cursor: pointer;

			// For the hover effect, to show that the buttons are more clickable

			&:after{
				@extend %speed-3ms;
				content: ' ';
				position: absolute;
				width: 90%;
				height: 90%;
				border-radius: 50%;
				background: rgba( $white, 0.05 );
				transform: scale( 0 );
				opacity: 0;
			}

			// Show the background on hover

			&:hover:after{
				transform: scale( 1 );
				opacity: 1;
			}
		}

		// For the styling of the icon within the div container
		// This changes the default sizing of the icon and the changes the color to white

		.icon{
			width: 20px;

			svg{ fill: $white; }
		}

		// When the Avatar button is clicked, animate the red toggle to the right, under the avatar icon
		// This switches the App prototype to Static mode

		&--switch:before{
			transform: translateX(44px);
		}

		// Remove the pointer events of the button that the prototype is on
		// For example, if the Emergency mode is clicked, remove the clickability to show that it is current

		&--on{
			pointer-events: none;
		}
	}
}



@keyframes title__up {

	0%, 1%    { transform: translateY( 100%  ); opacity: 0; }
	3%, 40%   { transform: translateY( 0px   ); opacity: 1; }
	41%, 100% { transform: translateY( -100% ); opacity: 0; }
}

@keyframes title__up--2 {

	0%, 40%    { transform: translateY( 100% ); opacity: 0; }
	41.5%, 97% { transform: translateY( 0px );  opacity: 1; }
	100%  	   { transform: translateY( -100% );  opacity: 0; }
}

%title__up     { animation: title__up 30s ease forwards infinite; }
%title__up--2  { animation: title__up--2 30s ease forwards infinite; }




@keyframes text__up {

	0%, 2.5%   { transform: translateY( 20px  ); opacity: 0; z-index: 0; }
	4.5%, 40%  { transform: translateY( 0px   ); opacity: 1; z-index: 1; }
	41%, 100%  { transform: translateY( -20px ); opacity: 0; z-index: 0; }
}

@keyframes text__up--2 {

	0%, 41.5% { transform: translateY( 20px);   opacity: 0; z-index: 0; }
	43%, 97%  { transform: translateY( 0px );   opacity: 1; z-index: 1; }
	100% 	  { transform: translateY( -20px ); opacity: 0; z-index: 0; }
}

%text__up     { animation: text__up 30s ease forwards infinite; }
%text__up--2  { animation: text__up--2 30s ease forwards infinite; }

.stage__right{

	.animation__text{ 

		div{
			@extend %animate__in;
			animation-delay: 300ms;
			opacity: 0;
		}

		&--descp div{
			animation-delay: 600ms;
		}
	}
}


.stage__text--title{

	.animation__text{
		overflow: hidden;
	}

	// If there is an animation with more than one text showings

	.animation__text--1{

		div{
			opacity: 0;

			&:nth-child(n){
				animation-delay: 600ms;
				z-index: 0;
			}

			&:first-child{
				@extend %title__up;
			}

			&:nth-child(2){
				@extend %title__up--2;
			}
		}
	}
}

.stage__text--descp .animation__text--1{

	div{
		opacity: 0;

		&:nth-child(n){
			animation-delay: 600ms;
			z-index: 0;
		}

		&:first-child{
			@extend %text__up;
		}

		&:nth-child(2){
			@extend %text__up--2;
		}
	}
}


// For the text animations depending on what button is clicked and the animation goin on for each screen

.animation__text{
	position: relative;
	width: 100%;
	line-height: 1.1;

	&--1{
		@extend %display-flex;
		@extend %flex-center-vertical;
		position: relative;
		width: 100%;

		div:nth-child(2){
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			opacity: 0;
		}
	}

	&--2{
		position: absolute;
		top: 0;
		left: 0;

		div{
			@extend %animate__in--deep;
		}
	}

	&--hide{
		visibility: hidden;
		height: 0px;
	}
}



// For the blob in the background og the presentation
// This sits behind the phone and goes a little into the text, to the right of the phone

.bg__blob{
	position: absolute;
	width: 925px;
	height: 925px;
	transform: translate3d( 50px, 20px, 0 );
	opacity: 0.7;

	.gradient-bg {
		fill: url(#header-shape-gradient) #fff;
		// fill: linear-gradient(344deg, rgba(207,42,42,1) 0%, rgba(255,0,0,1) 50%, rgba(252,147,69,1) 100%);
		width: 100%;
		height: 100%;
	}

	#header-shape-gradient {
	  --color-start: #f55024;
	  --color-mid: rgba(255,0,0,1);
	  --color-stop: #b10000;
	}
}















